<h1>Rock Paper Scissor: <%= @game.player_1.name %> vs <%= @game.player_2.name %></h1>
<% if @game.winner == nil %>
  <h2>Results: It's a Tie!</h2>
<% else %>
  <h2>Results: <%= @game.winner.name %> Wins!</h2>
<% end %>

<table border="4" class="table table-striped table-condensed">
  <thead>
    <tr>
      <th>Round</th>
      <th><%= @game.player_1.name %>'s move</th>
      <th><%= @game.player_2.name %>'s move</th>
      <th>Winner</th>
    </tr>
  </thead>

  <tbody>
    <% @rounds.each do |round| %>
      <tr>
        <td><%= round.round_number %></td>
        
        <% if round.user_1_move == "rock" %>
          <td><%= image_tag("rock_transparent.png") %></td>
        <% elsif round.user_1_move == "paper" %>
          <td><%= image_tag("paper_transparent.png") %></td>
        <% elsif round.user_1_move == "scissor" %>
          <td><%= image_tag("scissor_transparent.png") %></td>
        <% else %>
          <td></td>
        <% end %>

        <% if round.user_2_move == "rock" %>
          <td><%= image_tag("rock_transparent.png") %></td>
        <% elsif round.user_2_move == "paper" %>
          <td><%= image_tag("paper_transparent.png") %></td>
        <% elsif round.user_2_move == "scissor" %>
          <td><%= image_tag("scissor_transparent.png") %></td>
        <% else %>
          <td></td>
        <% end %>

        <% if round.tie %>
          <td>Tie!</td>
        <% elsif round.winner.nil? %>
          <td>Closed</td>
        <% else %>
          <td><%= round.winner.name %>!</td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to 'Delete', @game, method: :delete, data: { confirm: 'Are you sure?' } %><br>
<%= link_to 'Back', games_path %>