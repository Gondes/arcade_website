<h1>List of Users</h1>

<table border="4" class="table table-striped table-condensed">
  <thead>
    <tr>
      <th><%= sortable "user_name", "User Name" %></th>
      <th><%= sortable "games_played_count", "Games Played" %></th>
      <th><%= sortable "wins_count", "Wins" %></th>
      <th><%= sortable "loss_count", "Loss" %></th>
      <th><%= sortable "tie_count", "Ties" %></th>
      <th><%= sortable "best_win_streak", "Best win streak" %></th>
      <th><%= sortable "current_win_streak", "Current win streak" %></th>
      <% if user_signed_in? %>
        <th colspan="1">Options</th>
      <% end %>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= user.user_name %></td>
        <td><%= user.games_played_count %></td>
        <td><%= user.wins_count %></td>
        <td><%= user.loss_count %></td>
        <td><%= user.tie_count %></td>
        <td><%= user.best_win_streak %></td>
        <td><%= user.current_win_streak %></td>
        <% if user_signed_in? %>
          <% if user.id != current_user.id %>
            <td><%= link_to 'Challenge', new_game_url(user_1_id: current_user.id, user_2_id: user.id) %></td>
          <% else %>
            <td></td>
          <% end %>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
